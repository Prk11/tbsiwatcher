# История изменений версий #

## Версия 1.0.0 ##

Первая рабочая версия, изменения не зафиксированые.
Перечень команд:

 * /start - При подключению к боту рассказывает, что надо запустить команду /help
 * /help - рассказывает как подлючится и выдает справку по командам
 * /settings user < user_id > - Связывает чат и пользователя
 * /settings subscribe < on|off > - Включает/выключает подписку на рассылку
 * /list - Выводит список обновлений в кабинете
 * /countusers - Выводит список подключенных пользователей
 * /tosendmessageallusers - Отправляет сообщение всемм пользователям

## Версия 1.1.0 ##

Добавлено:

 * Управление настройками вынесено в отдельный файл settings.properties
 * Изменен обработчик коммандной строки
 * Добавлен параметр коммандной строки -с <файл_settings.properties>
 * Добавлен этот файл, с историей изменений
 * Перенесено и дополненно форматирование
 * Улучшение работы шедулера
 * Добавлена экранная клавиатура 
 * Добавлены фильтры
 * Расширен перечень параметров команды /settings 
 * Добавлена проверка user_id

Изменено:

 * Отключена проверка на наличие fb2

## Версия 1.2.0 ##


## Версия 1.2.1 ##

Добавлено:

 * При ошибке команды /list отправляется сообщение об ошибке администратору
 * Добавлен метод для получения пользователя-администратора
 * При отсутствии обновлений выводится сообщение что обновлений нет.
 * При ошибке диспетчера отправляется сообщение об ошибке администратору
 * Добавлена сортировка в команде /list
 * Добавлена сортировка в диспетчере

## Версия 1.2.2 ##
 
Исправлено:

 * Механизм обновления версий
 * Работа команды /settings set subscribe.* on|off
 * Исправление мелких ошибок

Добавлено:

 * Установлено ограничение на частоту отправки сообщений в 40 мс
 * Запрос у пользователя его месторасположения
 * Определение часового пояса по месторасположению
 * Корректировка сообщений ленты обновлений по часовому поясу
 * Вывод местоположения ссылкой, и вывод часового пояса

## Версия 1.2.3 ##
 
Исправлено:

 * Справка
 

## Версия 1.2.4 ##

Исправлено:

 * Мелкое исправление касаемое публикации только увеличивающихся текстов
 * Добавлен вывод рейтинговой оценки текстов
 * Значительно расширена команда /list [[page|pages|paginate] [#]] [autofiltering=yes|autofiltering=no] [lastday] [[fromdate|fromday] [dd.mm.yyyy]] [[random] [#]]. Ключи можно комбинировать и указывать в любой последовательности.   
    - Добавлена возможность постраничного вывода. Необходимо указать после команды /list один из ключей page|pages|paginate и номер страницы. Если номер страницы не указан, тогда выведится первая страница. Если сообщений больше 30 и постраничный вывод не будет включен, тогда страницы сообщений будут выводится с 90-секундной паузой.
    - Добавлена возможность автоматической фильтрации сообщений. При включенной фильтрации выводится информация только о новых текстах. Для включения/отключения этого режима необходимо указать после команды /list один из ключей autofiltering=yes|autofiltering=no. Если сообщений больше 30 и автофильтрация явно не отключена, тогда она будет включена автоматически.
    - Добавлена возможность вывода всех последних изменений текстов за сутки. Для этого необходимо указать после команды /list ключ lastday.
    - Добавлена возможность вывода всех последних изменений текстов с заданной даты. Для этого необходимо указать после команды /list один из ключей fromdate|fromday и дату в формате dd.mm.yyyy. Если дату не указать то действие ключа аналогично ключу lastday.
    - Добавлена возможность вывода случайных изменений текстов. Для этого необходимо указать после команды /list ключ random и количество выводимых обновлений. Если количество обновлений не будет указаным, то по-умолчанию их число равно трём.
 * Добавлена автоматическая пауза для большого количества обновлений при массовой рассылке
 * При массовой рассылке для каждого пользователя выделяется отдельный поток

 
